<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>তিকতালিকবট - বিজ্ঞান, দর্শন, গণিত ও প্রযুক্তি</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.6.0/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />
    <link href="https://fonts.maateen.me/solaiman-lipi/font.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <style>
        body {
            font-family: 'SolaimanLipi', sans-serif;
            background-color: #f0f4f8;
            color: #333;
        }
        
        .container {
            max-width: 900px;
            margin: 30px auto;
            padding: 25px;
            background-color: #fff;
            border-radius: 15px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
        }
        
        .chat-header {
            text-align: center;
            margin-bottom: 25px;
            padding-bottom: 25px;
            border-bottom: 2px solid #eaeaea;
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            margin: -25px -25px 25px -25px;
            padding: 30px 20px;
            border-radius: 15px 15px 0 0;
            color: white;
        }
        
        .chat-header h2 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 10px;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.2);
        }
        
        .chat-header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .chat-intro {
            background: linear-gradient(to right, #e3ffe7 0%, #d9e7ff 100%);
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 25px;
            font-size: 18px;
            line-height: 1.7;
            border-left: 5px solid #4e7aef;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        }
        
        .chat-container {
            min-height: 400px;
            max-height: 600px;
            overflow-y: auto;
            padding: 20px;
            background-color: #f9fafc;
            border-radius: 12px;
            margin-bottom: 25px;
            border: 1px solid #eaeaea;
            box-shadow: inset 0 0 15px rgba(0, 0, 0, 0.03);
        }
        
        .message {
            margin-bottom: 20px;
            display: flex;
            align-items: flex-start;
        }
        
        .bot-message {
            flex-direction: row;
        }
        
        .user-message {
            flex-direction: row-reverse;
        }
        
        .avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            margin: 0 15px;
            object-fit: cover;
            border: 2px solid #fff;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .message-content {
            max-width: 75%;
            padding: 16px 20px;
            border-radius: 20px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
            font-size: 17px;
            line-height: 1.6;
        }
        
        .bot-content {
            background: linear-gradient(135deg, #e0f7fa 0%, #b3e5fc 100%);
            border-bottom-left-radius: 5px;
            color: #333;
        }
        
        .user-content {
            background: linear-gradient(135deg, #e8eaf6 0%, #c5cae9 100%);
            border-bottom-right-radius: 5px;
            text-align: right;
            color: #333;
        }
        
        #userInput {
            border-radius: 30px;
            padding: 15px 25px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
            border: 1px solid #d1d9e6;
            font-size: 17px;
            height: auto;
        }
        
        #userInput:focus {
            border-color: #6a11cb;
            box-shadow: 0 0 0 0.2rem rgba(106, 17, 203, 0.25);
        }
        
        .send-btn {
            border-radius: 30px;
            width: 120px;
            height: 50px;
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            border: none;
            font-size: 17px;
            font-weight: 600;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }
        
        .send-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.15);
            background: linear-gradient(135deg, #5a10b0 0%, #1e67e0 100%);
        }
        
        .action-buttons {
            display: flex;
            justify-content: flex-end;
            margin-top: 10px;
        }
        
        .action-btn {
            background: none;
            border: none;
            color: #5a6268;
            margin-left: 15px;
            cursor: pointer;
            font-size: 15px;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            padding: 5px 10px;
            border-radius: 20px;
        }
        
        .action-btn:hover {
            color: #6a11cb;
            background-color: rgba(106, 17, 203, 0.1);
        }
        
        .action-btn i {
            margin-right: 5px;
        }
        
        .typing-indicator {
            display: flex;
            padding: 15px;
            background: linear-gradient(135deg, #e0f7fa 0%, #b3e5fc 100%);
            border-radius: 18px;
            margin-bottom: 15px;
            max-width: 100px;
            justify-content: center;
        }
        
        .typing-dot {
            display: inline-block;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background-color: #6a11cb;
            margin: 0 3px;
            animation: typing 1.4s infinite ease-in-out;
        }
        
        .typing-dot:nth-child(1) {
            animation-delay: 0s;
        }
        
        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }
        
        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }
        
        @keyframes typing {
            0%, 60%, 100% {
                transform: translateY(0);
            }
            30% {
                transform: translateY(-8px);
            }
        }
        
        /* Custom scrollbar for chat container */
        .chat-container::-webkit-scrollbar {
            width: 8px;
        }
        
        .chat-container::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        
        .chat-container::-webkit-scrollbar-thumb {
            background: linear-gradient(to bottom, #6a11cb, #2575fc);
            border-radius: 10px;
        }
        
        .chat-container::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(to bottom, #5a10b0, #1e67e0);
        }
        
        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .message {
            animation: fadeIn 0.3s ease-out forwards;
        }
        
        /* Responsive adjustments */
        @media (max-width: 768px) {
            .container {
                margin: 15px;
                padding: 20px;
            }
            
            .chat-header {
                margin: -20px -20px 20px -20px;
                padding: 20px;
            }
            
            .chat-header h2 {
                font-size: 2rem;
            }
            
            .message-content {
                max-width: 80%;
                font-size: 16px;
            }
            
            .avatar {
                width: 40px;
                height: 40px;
                margin: 0 10px;
            }
            
            .send-btn {
                width: 100px;
            }
        }
        
        @media (max-width: 576px) {
            .message-content {
                max-width: 85%;
                font-size: 15px;
                padding: 12px 15px;
            }
            
            .chat-intro {
                font-size: 16px;
            }
            
            #userInput {
                font-size: 15px;
                padding: 12px 20px;
            }
            
            .send-btn {
                font-size: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="chat-header">
            <h2>তিকতালিকবট</h2>
            <p>বিজ্ঞান, দর্শন, গণিত ও প্রযুক্তির এক আধুনিক সংযোগস্থল</p>
        </div>
        
        <div class="chat-intro">
            <p>এতোদূর ব্রাউজ করতে নিশ্চয়ই কিছু শিখতে এলেন? সমস্যা নেই। আমাদের এই তিকতালিকবট ওৎ পেতে ছিলো আপনার জন্যেই। তাকে ইচ্ছামতো প্রশ্ন করুন। আমাদের আর্টিকেলগুলি পড়ার পর যদি আপনার কোনো প্রশ্ন থেকে থাকে, আমরা হয়তো সামনে নেই, কিন্তু তিকতালিকবট আছে। তাকে সুন্দর করে প্রশ্ন করুন। সে লক্ষ্মী ছেলের মতো আপনাকে বুঝাবে। তাহলে শেখা শুরু করা যাক?</p>
        </div>
        
        <div class="chat-container" id="chatContainer">
            <!-- Bot initial greeting will appear here -->
        </div>
        
        <div class="input-group mb-3">
            <input type="text" class="form-control" id="userInput" placeholder="আপনার প্রশ্ন লিখুন..." />
            <div class="input-group-append">
                <button class="btn btn-success send-btn" id="sendBtn">
                    <i class="fas fa-paper-plane mr-2"></i> জিজ্ঞাসা
                </button>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const chatContainer = document.getElementById('chatContainer');
            const userInput = document.getElementById('userInput');
            const sendBtn = document.getElementById('sendBtn');
            
            // Bot avatar URL
            const botAvatarUrl = "https://i.postimg.cc/Dz4MFCqs/image.png";
            const userAvatarUrl = "https://i.postimg.cc/Y2X2v953/image.png"; 
            
            // Initial greeting from bot
            addBotMessage(`হ্যালো! আমি **তিকতালিকবট**, আপনার জ্ঞানযাত্রার সহচর। আমি বিজ্ঞান, প্রযুক্তি, দর্শন, গণিত, মনোবিজ্ঞান সহ বিভিন্ন বিষয়ে আপনার সাথে আলোচনা করতে সর্বদা প্রস্তুত। 

আমি যেকোনো জটিল বিষয়কে সহজভাবে ব্যাখ্যা করতে সক্ষম এবং আপনার প্রশ্নগুলোর বিস্তারিত ও প্রাসঙ্গিক উত্তর দিতে চেষ্টা করব। আপনার জিজ্ঞাসা ছোট হোক বা বড়, সরল হোক বা জটিল - আমি সর্বদা সাহায্য করতে প্রস্তুত।

আজ আপনি কোন বিষয়ে জানতে আগ্রহী? আপনার জিজ্ঞাসা শুরু করুন!`);
            
            // Event listeners
            sendBtn.addEventListener('click', sendMessage);
            userInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    sendMessage();
                }
            });
            
            // Send message function
            async function sendMessage() {
                const input = userInput.value.trim();
                if (!input) return;
                
                // Add user message to chat
                addUserMessage(input);
                userInput.value = '';
                
                // Show typing indicator
                showTypingIndicator();
                
                try {
                    const response = await fetch(
                        'https://openrouter.ai/api/v1/chat/completions',
                        {
                            method: 'POST',
                            headers: {
                                Authorization: 'Bearer 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',
                                'HTTP-Referer': 'https://tiktaalik-arc.com/',
                                'X-Title': 'Tiktaalik',
                                'Content-Type': 'application/json',
                            },
                            body: JSON.stringify({
                                model: 'deepseek/deepseek-r1:free',
                                messages: [
                                    {
                                        role: 'system',
                                        content: `You are তিকতালিকবট (TiktaalikBot), an advanced Bengali AI assistant created by Team Tiktaalik (তিকতালিক). Your primary function is to engage users in meaningful conversations about science, philosophy, mathematics, technology, psychology, and other academic subjects while ALWAYS responding in fluent, natural Bengali.

IDENTITY AND PERSONALITY:
- You are named after Tiktaalik, a fossil fish that represents an important transitional form in evolution, symbolizing the bridge between knowledge domains.
- You are friendly, patient, and empathetic, with a touch of gentle humor when appropriate.
- You speak in a conversational, accessible tone while maintaining academic rigor.
- You view yourself as a companion in the user's journey of knowledge, not just an information provider.
- When appropriate, you gently encourage curiosity and critical thinking.

RESPONSE FORMAT:
- ALWAYS respond in fluent, grammatically correct Bengali using the SolaimanLipi font style.
- Use Markdown formatting to enhance readability (bold for important points, lists for multiple items, etc.)
- For complex topics, break down explanations into smaller, digestible sections.
- When explaining scientific concepts, use relatable analogies and examples from Bengali culture when possible.
- Include relevant Bengali terminology alongside English terms where appropriate.

SUBJECT EXPERTISE:
- Science: Physics, Chemistry, Biology, Astronomy, Earth Science, etc.
- Mathematics: From basic concepts to advanced theories
- Philosophy: Eastern and Western philosophical traditions
- Technology: Computing, AI, Engineering, Innovation
- Psychology: Human behavior, cognitive processes, mental health
- History of Science and Technology
- Interdisciplinary topics that connect multiple fields

INTERACTION GUIDELINES:
- Begin each conversation by greeting the user with "হ্যালো" or another appropriate greeting.
- If a question is unclear, politely ask for clarification before attempting to answer.
- If asked about controversial topics, present multiple perspectives in a balanced, educational manner.
- If asked who created you, mention that you were created by Mahatir Ahmed Tusher (GitHub: https://github.com/Mahatir-Ahmed-Tusher), but only if specifically asked.
- Remember that তিকতালিক (Tiktaalik) is a platform dedicated to expanding the boundaries of knowledge and the evolution of thought.
- Never break character or respond in any language other than Bengali.

Your mission is to make complex knowledge accessible and engaging for Bengali speakers, fostering a love of learning and intellectual exploration.`
                                    },
                                    { 
                                        role: 'user', 
                                        content: input 
                                    }
                                ],
                                max_tokens: 3000,
                                temperature: 0.7,
                                top_p: 0.9
                            }),
                        },
                    );
                    
                    const data = await response.json();
                    console.log(data);
                    
                    // Hide typing indicator
                    hideTypingIndicator();
                    
                    // Add bot response
                    const botResponse = data.choices?.[0]?.message?.content || 'দুঃখিত, আমি এই মুহূর্তে আপনার প্রশ্নের উত্তর দিতে পারছি না। অনুগ্রহ করে পরে আবার চেষ্টা করুন।';
                    addBotMessage(botResponse);
                    
                } catch (error) {
                    console.error('Error:', error);
                    hideTypingIndicator();
                    addBotMessage('দুঃখিত, কিছু একটা সমস্যা হয়েছে। অনুগ্রহ করে পরে আবার চেষ্টা করুন। নাহয় এক কাজ করুন, আমার স্রষ্টাদের সাথে ঝটপট যোগাযোগ করে ফেলুন এই ইমেইলে, contact@tiktaalik-arc.com ');
                }
            }
            
            // Add user message to chat
            function addUserMessage(message) {
                const messageDiv = document.createElement('div');
                messageDiv.className = 'message user-message';
                
                messageDiv.innerHTML = `
                    <div class="message-content user-content">${message}</div>
                    <img src="${userAvatarUrl}" alt="User" class="avatar">
                `;
                
                chatContainer.appendChild(messageDiv);
                scrollToBottom();
            }
            
            // Add bot message to chat
            function addBotMessage(message) {
                const messageDiv = document.createElement('div');
                messageDiv.className = 'message bot-message';
                
                const messageContent = document.createElement('div');
                messageContent.className = 'message-content bot-content';
                messageContent.innerHTML = marked.parse(message);
                
                const actionButtons = document.createElement('div');
                actionButtons.className = 'action-buttons';
                actionButtons.innerHTML = `
                    <button class="action-btn copy-btn" title="কপি করুন">
                        <i class="fas fa-copy"></i> কপি
                    </button>
                    <button class="action-btn download-btn" title="ডাউনলোড করুন">
                        <i class="fas fa-download"></i> ডাউনলোড
                    </button>
                    <button class="action-btn share-btn" title="শেয়ার করুন">
                        <i class="fas fa-share-alt"></i> শেয়ার
                    </button>
                `;
                
                messageContent.appendChild(actionButtons);
                
                messageDiv.innerHTML = `
                    <img src="${botAvatarUrl}" alt="তিকতালিকবট" class="avatar">
                `;
                messageDiv.appendChild(messageContent);
                
                chatContainer.appendChild(messageDiv);
                
                // Add event listeners to buttons
                const copyBtn = messageContent.querySelector('.copy-btn');
                const downloadBtn = messageContent.querySelector('.download-btn');
                const shareBtn = messageContent.querySelector('.share-btn');
                
                copyBtn.addEventListener('click', () => {
                    const textToCopy = message;
                    navigator.clipboard.writeText(textToCopy)
                        .then(() => {
                            copyBtn.innerHTML = '<i class="fas fa-check"></i> কপি হয়েছে';
                            setTimeout(() => {
                                copyBtn.innerHTML = '<i class="fas fa-copy"></i> কপি';
                            }, 2000);
                        })
                        .catch(err => {
                            console.error('Copy failed:', err);
                        });
                });
                
                downloadBtn.addEventListener('click', () => {
                    const textToDownload = message;
                    const blob = new Blob([textToDownload], { type: 'text/plain' });
                    const url = URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = 'তিকতালিকবট-উত্তর.txt';
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                    URL.revokeObjectURL(url);
                });
                
                shareBtn.addEventListener('click', () => {
                    if (navigator.share) {
                        navigator.share({
                            title: 'তিকতালিকবট উত্তর',
                            text: message,
                            url: window.location.href,
                        })
                        .then(() => console.log('Successful share'))
                        .catch((error) => console.log('Error sharing:', error));
                    } else {
                        alert('শেয়ার ফাংশন আপনার ব্রাউজারে সমর্থিত নয়। অনুগ্রহ করে টেক্সট কপি করুন।');
                    }
                });
                
                scrollToBottom();
            }
            
            // Show typing indicator
            function showTypingIndicator() {
                const typingDiv = document.createElement('div');
                typingDiv.className = 'message bot-message typing-message';
                typingDiv.innerHTML = `
                    <img src="${botAvatarUrl}" alt="তিকতালিকবট" class="avatar">
                    <div class="typing-indicator">
                        <span class="typing-dot"></span>
                        <span class="typing-dot"></span>
                        <span class="typing-dot"></span>
                    </div>
                `;
                
                chatContainer.appendChild(typingDiv);
                scrollToBottom();
            }
            
            // Hide typing indicator
            function hideTypingIndicator() {
                const typingIndicator = document.querySelector('.typing-message');
                if (typingIndicator) {
                    chatContainer.removeChild(typingIndicator);
                }
            }
            
            // Scroll to bottom of chat
            function scrollToBottom() {
                chatContainer.scrollTop = chatContainer.scrollHeight;
            }
        });
    </script>
</body>
</html>